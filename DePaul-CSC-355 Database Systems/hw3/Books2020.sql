/*
	Books2020.sql
	Eric J. Schwabe
	April 15th, 2020

	Script to set up BOOK, STORE, BOOKORDER tables
	for CSC 355 Assignment 3
	Sample data modified from Modern Database Management (7th edition),
		Hoffer, Prescott, McFadden	
	For use in assignment only -- do not copy, post, or distribute
*/

-- drop tables
DROP TABLE BOOKORDER CASCADE CONSTRAINTS;
DROP TABLE BOOK CASCADE CONSTRAINTS;
DROP TABLE STORE CASCADE CONSTRAINTS;
-- create and link tables
CREATE TABLE STORE
(
	SID		NUMBER(3),
	Name		VARCHAR2(40),
	City		VARCHAR2(20),
	State		CHAR(2),
	CONSTRAINT PK_STORE
		PRIMARY KEY (SID)
);
CREATE TABLE BOOK
(
	BID		CHAR(6),
	Title		VARCHAR2(30),
	Author		VARCHAR2(30),
	Year		NUMBER(4),
	Price		NUMBER(5,2),
	CONSTRAINT PK_BOOK
		PRIMARY KEY (BID)
);
CREATE TABLE BOOKORDER
(	OrderID		NUMBER(5),
	StoreID		NUMBER(3),
	BookID		CHAR(6),
	OrderDate	DATE,
	Quantity	NUMBER(3)	
			CHECK (Quantity >= 1),
	CONSTRAINT PK_BOOKORDER
		PRIMARY KEY (OrderID),
	CONSTRAINT FK_BOOKORDER_STORE
		FOREIGN KEY (StoreID)
		REFERENCES STORE(SID),
	CONSTRAINT FK_BOOKORDER_BOOK
		FOREIGN KEY (BookID)
		REFERENCES BOOK(BID)
);
-- populate tables
INSERT INTO STORE VALUES
	(1, 'Books R Us', 'Newburgh', 'NY');
INSERT INTO STORE VALUES
	(2, 'Hauppauge Books', 'Hauppauge', 'NY');
INSERT INTO STORE VALUES
	(3, 'Three Rivers Readers', 'Pittsburgh', 'PA');
INSERT INTO STORE VALUES
	(4, 'Upstate Books', 'Albany', 'NY');
INSERT INTO STORE VALUES
	(5, 'Book Headquarters', 'Irvine', 'CA');
INSERT INTO STORE VALUES
	(6, 'We Are Books Books Books', 'Philadephia', 'PA');
INSERT INTO STORE VALUES
	(7, 'Free Books For The People', 'San Francisco', 'CA');
INSERT INTO STORE VALUES
	(8, 'Book City Readers', 'Washington', 'PA');
INSERT INTO STORE VALUES
	(9, 'Oregon Book City', 'Springfield', 'OR');
INSERT INTO STORE VALUES
	(10, 'Capital Books', 'Springfield', 'IL');
INSERT INTO BOOK VALUES
	('104115', 'Accepted', 'Joe Vanness', 2016, 17.99);	
INSERT INTO BOOK VALUES
	('104093', 'Annihilated', 'Joe Vanness', 2015, 19.99);	
INSERT INTO BOOK VALUES
	('104107', 'Authoriative', 'Joe Vanness', 2013, 21.99);	
INSERT INTO BOOK VALUES
	('011160', 'Space Wolf', 'Alice Steen', 2010, 14.99);
INSERT INTO BOOK VALUES
	('013570', 'Space Pack', 'Alice Steen', 2014, 15.99);
INSERT INTO BOOK VALUES
	('012515', 'Space Cub', 'Alice Steen', 2016, 16.99);
INSERT INTO BOOK VALUES
	('262315', 'New York Stories', 'Kim Robertson', 2013, 12.99);	
INSERT INTO BOOK VALUES
	('098116', 'Chicago Stories', 'Kim Robertson', 2008, 8.99);
INSERT INTO BOOK VALUES
	('537658', 'Boomer', 'Alice Steen', 2008, 11.99);
INSERT INTO BOOK VALUES
	('123456', 'Short Stories', 'Donald White', 2013, 15.99);
INSERT INTO BOOK VALUES
	('778697', 'Long Stories', 'Donald White', 2014, 18.99);
INSERT INTO BOOKORDER VALUES
	(10011, 8, '011160', DATE '2018-07-30', 2);
INSERT INTO BOOKORDER VALUES
	(10012, 8, '104115', DATE '2018-07-30', 1);
INSERT INTO BOOKORDER VALUES
	(10013, 2, '104107', DATE '2018-07-30', 1);
INSERT INTO BOOKORDER VALUES
	(10021, 5, '104093', DATE '2018-07-30', 3);
INSERT INTO BOOKORDER VALUES
	(10031, 10, '104093', DATE '2018-09-28', 4);
INSERT INTO BOOKORDER VALUES
	(10041, 3, '262315', DATE '2018-11-15', 1);
INSERT INTO BOOKORDER VALUES
	(10042, 3, '104107', DATE '2018-11-15', 1);
INSERT INTO BOOKORDER VALUES
	(10051, 7, '104107', DATE '2019-02-03', 4);
INSERT INTO BOOKORDER VALUES
	(10061, 4, '104107', DATE '2019-02-03', 2);
INSERT INTO BOOKORDER VALUES
	(10062, 4, '104093', DATE '2019-02-04', 2);
INSERT INTO BOOKORDER VALUES
	(10063, 3, '104115', DATE '2019-04-01', 2);
INSERT INTO BOOKORDER VALUES
	(10071, 3, '011160', DATE '2019-04-04', 4);
INSERT INTO BOOKORDER VALUES
	(10072, 9, '104115', DATE '2019-04-15', 4);
INSERT INTO BOOKORDER VALUES
	(10081, 7, '104093', DATE '2020-01-01', 1);
INSERT INTO BOOKORDER VALUES
	(10082, 7, '262315', DATE '2020-01-01', 1);
INSERT INTO BOOKORDER VALUES
	(10101, 4, '104107', DATE '2020-01-10', 3);
INSERT INTO BOOKORDER VALUES
	(10102, 3, '013570', DATE '2020-01-12', 4);
INSERT INTO BOOKORDER VALUES
	(10111, 10, '262315', DATE '2020-02-15', 3);
INSERT INTO BOOKORDER VALUES
	(10121, 1, '011160', DATE '2020-02-15', 1);
INSERT INTO BOOKORDER VALUES
	(10131, 4, '011160', DATE '2020-02-15', 2);
INSERT INTO BOOKORDER VALUES
	(10132, 4, '098116', DATE '2020-02-15', 1);
INSERT INTO BOOKORDER VALUES
	(10133, 2, '778697', DATE '2020-04-01', 3);
INSERT INTO BOOKORDER VALUES
	(10135, 1, '123456', DATE '2020-04-08', 3);
COMMIT;
-- display tables
SELECT * FROM STORE;
SELECT * FROM BOOK;
SELECT * FROM BOOKORDER;
