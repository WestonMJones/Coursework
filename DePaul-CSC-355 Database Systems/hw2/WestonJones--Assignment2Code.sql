/*
Weston Jones 
CS 355 Database Systems 
Section 602 
Assignment 2
4/15/20
*/

DROP TABLE LEASE;
DROP TABLE BUILDING;
DROP TABLE TENANT;

CREATE TABLE BUILDING(
    BID CHAR(3) NOT NULL PRIMARY KEY,
    Address VARCHAR(30),
    City VArCHAR(20)
);

CREATE TABLE TENANT(
    TID CHAR(4) NOT NULL PRIMARY KEY,
    Name VARCHAR(30),
    Phone CHAR(10)
);

CREATE TABLE LEASE(
    BuildingID CHAR(3) NOT NULL REFERENCES BUILDING(BID),
    TenantID CHAR(4) NOT NULL REFERENCES TENANT(TID),
    Unit Number(4,0) CHECK (Unit > 0),
    Rent Number(6,2) CHECK (Rent >= 0 AND Rent <= 9999.99),
    LeaseDate Date,
    CONSTRAINT PRI_KEY PRIMARY KEY (BuildingID, TenantID)
    
);

INSERT INTO BUILDING VALUES('123','1800 W. Michigan Ave.','Chicago');
INSERT INTO BUILDING VALUES('456','1567 N. State St..','Chicago');
INSERT INTO BUILDING VALUES('789','1432 W. 3rd St.','Evanston');

INSERT INTO TENANT VALUES('A135','Weston Jones','1234567890');
INSERT INTO TENANT VALUES('B246','John Doe','1234567899');
INSERT INTO TENANT VALUES('C357','John Doe','1123456789');

INSERT INTO LEASE VALUES('123','A135',1234,9999.99,to_date('16-09-1997', 'DD/MM/YYYY'));
INSERT INTO LEASE VALUES('456','B246',2468,0,to_date('23-12-2011', 'DD/MM/YYYY'));
INSERT INTO LEASE VALUES('789','C357',3690,525.00,to_date('10-03-2007', 'DD/MM/YYYY'));
INSERT INTO LEASE VALUES('123','B246',5432,1250.00,to_date('06-03-1998', 'DD/MM/YYYY'));
INSERT INTO LEASE VALUES('456','C357',6789,5678.23,to_date('16-09-2020', 'DD/MM/YYYY'));

SELECT * FROM BUILDING;
SELECT * FROM LEASE;
SELECT * FROM TENANT;



